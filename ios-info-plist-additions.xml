<!-- 
This file contains the Info.plist additions needed for iOS network security.
After running 'npm run ios:init', copy these entries to ios/App/App/Info.plist
-->

<!-- Network Security Configuration for HTTPS API calls -->
<key>NSAppTransportSecurity</key>
<dict>
    <!-- Allow arbitrary loads for development (remove in production) -->
    <key>NSAllowsArbitraryLoads</key>
    <false/>
    
    <!-- Exception domains for specific hosts -->
    <key>NSExceptionDomains</key>
    <dict>
        <!-- Allow embolo.in domain -->
        <key>embolo.in</key>
        <dict>
            <key>NSExceptionAllowsInsecureHTTPLoads</key>
            <false/>
            <key>NSExceptionMinimumTLSVersion</key>
            <string>TLSv1.2</string>
            <key>NSExceptionRequiresForwardSecrecy</key>
            <false/>
            <key>NSIncludesSubdomains</key>
            <true/>
        </dict>
        
        <!-- Allow localhost for development -->
        <key>localhost</key>
        <dict>
            <key>NSExceptionAllowsInsecureHTTPLoads</key>
            <true/>
            <key>NSExceptionMinimumTLSVersion</key>
            <string>TLSv1.0</string>
        </dict>
    </dict>
</dict>

<!-- Camera permissions (if needed for future features) -->
<key>NSCameraUsageDescription</key>
<string>This app uses camera to scan QR codes and take photos for orders</string>

<!-- Location permissions (if using geolocation) -->
<key>NSLocationWhenInUseUsageDescription</key>
<string>This app uses location to find nearby stores and provide delivery services</string>

<!-- Photo library permissions (if needed) -->
<key>NSPhotoLibraryUsageDescription</key>
<string>This app needs access to photo library to select images for orders</string>

<!-- Microphone permissions (if needed for voice features) -->
<key>NSMicrophoneUsageDescription</key>
<string>This app uses microphone for voice notes and customer support</string>

<!-- Contacts permissions (if needed) -->
<key>NSContactsUsageDescription</key>
<string>This app accesses contacts to help you share products with friends</string>

<!-- Background app refresh -->
<key>UIBackgroundModes</key>
<array>
    <string>background-fetch</string>
    <string>background-processing</string>
</array>

<!-- URL Schemes for deep linking -->
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>com.embolo.cart</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>embolo</string>
        </array>
    </dict>
</array>

<!-- Prevent iOS from backing up certain files -->
<key>NSSupportsAutomaticTermination</key>
<true/>
<key>NSSupportsSuddenTermination</key>
<true/>

<!-- App supports multiple windows on iPad -->
<key>UISupportsDocumentBrowser</key>
<false/>

<!-- Supported interface orientations -->
<key>UISupportedInterfaceOrientations</key>
<array>
    <string>UIInterfaceOrientationPortrait</string>
    <string>UIInterfaceOrientationLandscapeLeft</string>
    <string>UIInterfaceOrientationLandscapeRight</string>
</array>

<!-- iPad specific orientations -->
<key>UISupportedInterfaceOrientations~ipad</key>
<array>
    <string>UIInterfaceOrientationPortrait</string>
    <string>UIInterfaceOrientationPortraitUpsideDown</string>
    <string>UIInterfaceOrientationLandscapeLeft</string>
    <string>UIInterfaceOrientationLandscapeRight</string>
</array>
